#include <iostream>
#include <vector>
#include <string>
#include <algorithm>

using namespace std;

int main()
{
    int numberOpponentPawns, numberFriendPawns;
    int row, column = 0;
    vector <string> opponentPawns, friendPawns;
    string opponentField[8][8], friendField[8][8];
    string pawn;
    string field;

    cin >> numberOpponentPawns >> numberFriendPawns;

    for (int i = 0; i < numberOpponentPawns; i++) {
        cin >> pawn >> field;
        opponentPawns.push_back(pawn + " " + field);
    }

    for (int i = 0; i < numberFriendPawns; i++) {
        cin >> pawn >> field;
        friendPawns.push_back(pawn + " " + field);
    }

    sort(opponentPawns.begin(), opponentPawns.end());
    sort(friendPawns.begin(), friendPawns.end());

    for (int i = 0; i < 8; i++) {
        for (int j = 0; j < 8; j++) {
            opponentField[i][j] = "0";
            friendField[i][j] = "0";
        }
    }

    for (int i = 0; i < numberOpponentPawns; i++) {
        switch (opponentPawns[i][2])
        {
        case 'a':
            column = 0;
            break;
        case 'b':
            column = 1;
            break;
        case 'c':
            column = 2;
            break;
        case 'd':
            column = 3;
            break;
        case 'e':
            column = 4;
            break;
        case 'f':
            column = 5;
            break;
        case 'g':
            column = 6;
            break;
        case 'h':
            column = 7;
            break;
        }
        row = 8 - atoi(&opponentPawns[i][3]);
        opponentField[row][column] = opponentPawns[i][0];
    }

    for (int i = 0; i < numberFriendPawns; i++) {
        switch (friendPawns[i][2])
        {
        case 'a':
            column = 0;
            break;
        case 'b':
            column = 1;
            break;
        case 'c':
            column = 2;
            break;
        case 'd':
            column = 3;
            break;
        case 'e':
            column = 4;
            break;
        case 'f':
            column = 5;
            break;
        case 'g':
            column = 6;
            break;
        case 'h':
            column = 7;
            break;
        }
        row = 8 - atoi(&friendPawns[i][3]);
        friendField[row][column] = friendPawns[i][0];
    }

    for (int i = 0; i < 8; i++) {
        for (int j = 0; j < 8; j++) {
            cout << friendField[i][j];
        }
        cout << endl;
    }

    for (int i = 0; i < numberFriendPawns; i++) cout << friendPawns[i] << endl;
    cout << endl;

    for (int i = 0; i < 8; i++) {
        for (int j = 0; j < 8; j++) {
            cout << opponentField[i][j];
        }
        cout << endl;
    }
    for (int i = 0; i < numberOpponentPawns; i++) cout << opponentPawns[i] << endl;


    return 0;
}
